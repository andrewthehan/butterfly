import{a as N,t as P,n as j}from"../chunks/disclose-version.CYtMEaOJ.js";import{h as T,a as le,b as fe,w as ce,M as ee,H as ue,r as Y,s as q,c as O,f as R,I as ve,a0 as S,d as te,e as re,p as pe,y as B,a1 as de,a2 as he,L as _e,a3 as ge,j as ye,x as ae,a4 as we,a5 as W,a6 as xe,a7 as me,a8 as be,C as ke,a9 as Ee,aa as Ae,ab as ze,E as Te,ac as Me,ad as Ie,ae as Ne,i as Re,af as Ce,ag as Le,n as z,ah as Se,t as G,v as K,k as Be,o as Fe,ai as Oe,aj as U,R as I,Z as H,$ as He,_ as D,ak as De,Y as $e,W as $}from"../chunks/runtime.Chi4a2j5.js";import{a as Pe,h as Ye}from"../chunks/render.BaDVcbKP.js";import{i as qe}from"../chunks/if.CBpcI-gK.js";function We(t,e){return e}function Ge(t,e,r,a){for(var i=[],n=e.length,u=0;u<n;u++)he(e[u].e,i,!0);var y=n>0&&i.length===0&&r!==null;if(y){var l=r.parentNode;_e(l),l.append(r),a.clear(),A(t,e[0].prev,e[n-1].next)}ge(i,()=>{for(var h=0;h<n;h++){var _=e[h];y||(a.delete(_.k),A(t,_.prev,_.next)),ye(_.e,!y)}})}function Ke(t,e,r,a,i,n=null){var u=t,y={flags:e,items:new Map,first:null};T&&le();var l=null,h=!1;fe(()=>{var _=r(),f=ce(_)?_:_==null?[]:ee(_),v=f.length;if(h&&v===0)return;h=v===0;let c=!1;if(T){var s=u.data===ue;s!==(v===0)&&(u=Y(),q(u),O(!1),c=!0)}if(T){for(var d=null,w,p=0;p<v;p++){if(R.nodeType===8&&R.data===ve){u=R,c=!0,O(!1);break}var o=f[p],g=a(o,p);w=se(R,y,d,null,o,g,p,i,e),y.items.set(g,w),d=w}v>0&&q(Y())}if(!T){var m=ae;Ue(f,y,u,i,e,(m.f&S)!==0,a)}n!==null&&(v===0?l?te(l):l=re(()=>n(u)):l!==null&&pe(l,()=>{l=null})),c&&O(!0),r()}),T&&(u=R)}function Ue(t,e,r,a,i,n,u,y){var l=t.length,h=e.items,_=e.first,f=_,v,c=null,s=[],d=[],w,p,o,g;for(g=0;g<l;g+=1){if(w=t[g],p=u(w,g),o=h.get(p),o===void 0){var m=f?f.e.nodes_start:r;c=se(m,e,c,c===null?e.first:c.next,w,p,g,a,i),h.set(p,c),s=[],d=[],f=c.next;continue}if(Ve(o,w,g),o.e.f&S&&te(o.e),o!==f){if(v!==void 0&&v.has(o)){if(s.length<d.length){var b=d[0],x;c=b.prev;var k=s[0],M=s[s.length-1];for(x=0;x<s.length;x+=1)V(s[x],b,r);for(x=0;x<d.length;x+=1)v.delete(d[x]);A(e,k.prev,M.next),A(e,c,k),A(e,M,b),f=b,c=M,g-=1,s=[],d=[]}else v.delete(o),V(o,f,r),A(e,o.prev,o.next),A(e,o,c===null?e.first:c.next),A(e,c,o),c=o;continue}for(s=[],d=[];f!==null&&f.k!==p;)(n||!(f.e.f&S))&&(v??(v=new Set)).add(f),d.push(f),f=f.next;if(f===null)continue;o=f}s.push(o),c=o,f=o.next}if(f!==null||v!==void 0){for(var C=v===void 0?[]:ee(v);f!==null;)(n||!(f.e.f&S))&&C.push(f),f=f.next;var L=C.length;if(L>0){var F=null;Ge(e,C,F,h)}}B.first=e.first&&e.first.e,B.last=c&&c.e}function Ve(t,e,r,a){de(t.v,e),t.i=r}function se(t,e,r,a,i,n,u,y,l,h){var _=(l&me)!==0,f=(l&be)===0,v=_?f?we(i):W(i):i,c=l&xe?W(u):u,s={i:c,v,k:n,a:null,e:null,prev:r,next:a};try{return s.e=re(()=>y(t,v,c),T),s.e.prev=r&&r.e,s.e.next=a&&a.e,r===null?e.first=s:(r.next=s,r.e.next=s.e),a!==null&&(a.prev=s,a.e.prev=s.e),s}finally{}}function V(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,n=t.e.nodes_start;n!==a;){var u=ke(n);i.before(n),n=u}}function A(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function X(t,e,r,a){var i=t.__attributes??(t.__attributes={});T&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[ze]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Xe(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var Z=new Map;function Xe(t){var e=Z.get(t.nodeName);if(e)return e;Z.set(t.nodeName,e=[]);for(var r,a=t,i=Element.prototype;i!==a;){r=Ae(a);for(var n in r)r[n].set&&e.push(n);a=Ee(a)}return e}function Ze(t,e,r,a){var i=t.__styles??(t.__styles={});i[e]!==r&&(i[e]=r,t.style.setProperty(e,r,""))}const Je=()=>performance.now(),E={tick:t=>requestAnimationFrame(t),now:()=>Je(),tasks:new Set};function ne(){const t=E.now();E.tasks.forEach(e=>{e.c(t)||(E.tasks.delete(e),e.f())}),E.tasks.size!==0&&E.tick(ne)}function Qe(t){let e;return E.tasks.size===0&&E.tick(ne),{promise:new Promise(r=>{E.tasks.add(e={c:t,f:r})}),abort(){E.tasks.delete(e)}}}function J(t,e){t.dispatchEvent(new CustomEvent(e))}function je(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Q(t){const e={},r=t.split(";");for(const a of r){const[i,n]=a.split(":");if(!i||n===void 0)break;const u=je(i.trim());e[u]=n.trim()}return e}const et=t=>t;function tt(t,e,r,a){var i=(t&Se)!==0,n="in",u,y=e.inert,l,h;function _(){var d=ae,w=B;G(null),K(null);try{return u??(u=r()(e,(a==null?void 0:a())??{},{direction:n}))}finally{G(d),K(w)}}var f={is_global:i,in(){e.inert=y,l==null||l.abort(),J(e,"introstart"),l=ie(e,_(),h,1,()=>{J(e,"introend"),l==null||l.abort(),l=u=void 0})},out(d){{d==null||d(),u=void 0;return}},stop:()=>{l==null||l.abort()}},v=B;if((v.transitions??(v.transitions=[])).push(f),Pe){var c=i;if(!c){for(var s=v.parent;s&&s.f&Te;)for(;(s=s.parent)&&!(s.f&Me););c=!s||(s.f&Ie)!==0}c&&Ne(()=>{Re(()=>f.in())})}}function ie(t,e,r,a,i){if(Ce(e)){var n,u=!1;return Le(()=>{if(!u){var d=e({direction:"in"});n=ie(t,d,r,a,i)}}),{abort:()=>{u=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(!(e!=null&&e.duration))return i(),{abort:z,deactivate:z,reset:z,t:()=>a};const{delay:y=0,css:l,tick:h,easing:_=et}=e;var f=[];if(h&&h(0,1),l){var v=Q(l(0,1));f.push(v,v)}var c=()=>1-a,s=t.animate(f,{duration:y});return s.onfinish=()=>{var d=1-a,w=a-d,p=e.duration*Math.abs(w),o=[];if(p>0){if(l)for(var g=Math.ceil(p/16.666666666666668),m=0;m<=g;m+=1){var b=d+w*_(m/g),x=l(b,1-b);o.push(Q(x))}c=()=>{var k=s.currentTime;return d+w*_(k/p)},h&&Qe(()=>{if(s.playState!=="running")return!1;var k=c();return h(k,1-k),!0})}s=t.animate(o,{duration:p,fill:"forwards"}),s.onfinish=()=>{c=()=>a,h==null||h(a,1-a),i()}},{abort:()=>{s&&(s.cancel(),s.effect=null,s.onfinish=z)},deactivate:()=>{i=z},reset:()=>{},t:()=>c()}}function rt(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function at(t,{delay:e=0,speed:r,duration:a,easing:i=rt}={}){let n=t.getTotalLength();const u=getComputedStyle(t);return u.strokeLinecap!=="butt"&&(n+=parseInt(u.strokeWidth)),a===void 0?r===void 0?a=800:a=n/r:typeof a=="function"&&(a=a(n)),{delay:e,duration:a,easing:i,css:(y,l)=>`
			stroke-dasharray: ${n};
			stroke-dashoffset: ${l*n};
		`}}var st=P('<meta name="description" content="An artwork utilizing regular polygons." class="svelte-1pvz3xu"> <meta property="og:url" content="https://butterfly.andrewhan.dev/" class="svelte-1pvz3xu"> <meta property="og:type" content="art" class="svelte-1pvz3xu"> <meta property="og:title" content="Butterfly" class="svelte-1pvz3xu"> <meta property="og:description" content="An artwork utilizing regular polygons." class="svelte-1pvz3xu"> <meta property="og:image" content="https://raw.githubusercontent.com/andrewthehan/butterfly/master/static/butterfly-light.png" class="svelte-1pvz3xu">',1),nt=j('<polygon stroke="white" stroke-width="1" fill="none" shape-rendering="crispEdges" class="svelte-1pvz3xu"></polygon>'),it=j('<svg xmlns="http://www.w3.org/2000/svg" class="svelte-1pvz3xu"><rect width="100%" height="100%" fill="black" class="svelte-1pvz3xu"></rect><!></svg>'),ot=P('<img src="https://raw.githubusercontent.com/andrewthehan/butterfly/master/static/butterfly-light.png" alt="Butterfly" class="svelte-1pvz3xu">'),lt=P('<section class="svelte-1pvz3xu"><div class="frame svelte-1pvz3xu"><!></div> <a class="label svelte-1pvz3xu" href="https://github.com/andrewthehan/butterfly" target="_blank" rel="noopener noreferrer"><h2 class="svelte-1pvz3xu">Andrew Han</h2> <b class="svelte-1pvz3xu">Butterfly, 2015</b> <br class="svelte-1pvz3xu"> <br class="svelte-1pvz3xu"> <b class="svelte-1pvz3xu"><i class="svelte-1pvz3xu">An artwork utilizing regular polygons</i></b></a></section>');function pt(t,e){Be(e,!0);const r=(p,o=z,g=z,m=z)=>{var b=nt();const x=$(()=>2*Math.PI/m()),k=$(()=>Array.from({length:m()},(C,L)=>{const F=o().x+Math.round(g()*Math.sin(L*I(x))),oe=o().y+Math.round(g()*Math.cos(L*I(x)));return`${F},${oe}`}).join(" ")),M=$(()=>m()-y);$e(()=>X(b,"points",I(k))),tt(5,b,()=>at,()=>({duration:1e3/(I(M)+1),delay:1e3*Math.log(I(M)+1)})),N(p,b)},a=600,i=600,n={x:a/2,y:i/2},u=10,y=3,l=1e3,h=100,_=Array.from({length:l},(p,o)=>Math.sqrt(u**2+2*h*o));let f=De(!1);var v=lt();Ye(p=>{var o=st();Oe.title="Butterfly",U(10),N(p,o)});var c=H(v);Ze(c,"width",a+"px");var s=H(c);{var d=p=>{var o=it();X(o,"viewBox",`0 0 ${a} ${i}`);var g=He(H(o));Ke(g,17,()=>Array(l),We,(m,b,x)=>{r(m,()=>n,()=>_[x],()=>x+y)}),D(o),N(p,o)},w=p=>{var o=ot();N(p,o)};qe(s,p=>{I(f)?p(d):p(w,!1)})}D(c),U(2),D(v),N(t,v),Fe()}export{pt as component};

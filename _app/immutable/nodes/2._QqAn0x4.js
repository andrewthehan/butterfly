import{a as L,t as j,c as ie,n as le}from"../chunks/disclose-version.CcHtVCaY.js";import{h as I,a as oe,b as fe,w as ce,M as ee,H as ve,r as Y,s as q,c as $,f as C,I as ue,a0 as F,d as te,e as ae,p as de,y as O,a1 as he,a2 as _e,L as pe,a3 as ge,j as ye,x as re,a4 as we,a5 as W,a6 as me,a7 as ke,a8 as Ee,C as be,a9 as Ae,aa as Te,ab as Me,E as xe,ac as Ie,ad as Ne,ae as Re,i as Ce,af as Le,ag as Se,n as M,ah as Fe,t as G,v as K,k as Oe,o as Be,ai as He,aj as $e,ak as U,R,Z as V,$ as ze,m as De,_ as X,al as Pe,Y as Ye,W as z}from"../chunks/runtime.D2qKHDMW.js";import{a as qe,h as We}from"../chunks/render.e-vXruYQ.js";import{i as Ge}from"../chunks/if.BHaVur6p.js";import{o as Ke}from"../chunks/index-client.CMTPTq7U.js";function Ue(t,e){return e}function Ve(t,e,a,r){for(var i=[],l=e.length,o=0;o<l;o++)_e(e[o].e,i,!0);var w=l>0&&i.length===0&&a!==null;if(w){var c=a.parentNode;pe(c),c.append(a),r.clear(),T(t,e[0].prev,e[l-1].next)}ge(i,()=>{for(var g=0;g<l;g++){var d=e[g];w||(r.delete(d.k),T(t,d.prev,d.next)),ye(d.e,!w)}})}function Xe(t,e,a,r,i,l=null){var o=t,w={flags:e,items:new Map,first:null};I&&oe();var c=null,g=!1;fe(()=>{var d=a(),s=ce(d)?d:d==null?[]:ee(d),u=s.length;if(g&&u===0)return;g=u===0;let f=!1;if(I){var n=o.data===ve;n!==(u===0)&&(o=Y(),q(o),$(!1),f=!0)}if(I){for(var h=null,_,p=0;p<u;p++){if(C.nodeType===8&&C.data===ue){o=C,f=!0,$(!1);break}var v=s[p],y=r(v,p);_=se(C,w,h,null,v,y,p,i,e),w.items.set(y,_),h=_}u>0&&q(Y())}if(!I){var E=re;Ze(s,w,o,i,e,(E.f&F)!==0,r)}l!==null&&(u===0?c?te(c):c=ae(()=>l(o)):c!==null&&de(c,()=>{c=null})),f&&$(!0),a()}),I&&(o=C)}function Ze(t,e,a,r,i,l,o,w){var c=t.length,g=e.items,d=e.first,s=d,u,f=null,n=[],h=[],_,p,v,y;for(y=0;y<c;y+=1){if(_=t[y],p=o(_,y),v=g.get(p),v===void 0){var E=s?s.e.nodes_start:a;f=se(E,e,f,f===null?e.first:f.next,_,p,y,r,i),g.set(p,f),n=[],h=[],s=f.next;continue}if(Je(v,_,y),v.e.f&F&&te(v.e),v!==s){if(u!==void 0&&u.has(v)){if(n.length<h.length){var m=h[0],k;f=m.prev;var x=n[0],b=n[n.length-1];for(k=0;k<n.length;k+=1)Z(n[k],m,a);for(k=0;k<h.length;k+=1)u.delete(h[k]);T(e,x.prev,b.next),T(e,f,x),T(e,b,m),s=m,f=b,y-=1,n=[],h=[]}else u.delete(v),Z(v,s,a),T(e,v.prev,v.next),T(e,v,f===null?e.first:f.next),T(e,f,v),f=v;continue}for(n=[],h=[];s!==null&&s.k!==p;)(l||!(s.e.f&F))&&(u??(u=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue;v=s}n.push(v),f=v,s=v.next}if(s!==null||u!==void 0){for(var N=u===void 0?[]:ee(u);s!==null;)(l||!(s.e.f&F))&&N.push(s),s=s.next;var B=N.length;if(B>0){var H=null;Ve(e,N,H,g)}}O.first=e.first&&e.first.e,O.last=f&&f.e}function Je(t,e,a,r){he(t.v,e),t.i=a}function se(t,e,a,r,i,l,o,w,c,g){var d=(c&ke)!==0,s=(c&Ee)===0,u=d?s?we(i):W(i):i,f=c&me?W(o):o,n={i:f,v:u,k:l,a:null,e:null,prev:a,next:r};try{return n.e=ae(()=>w(t,u,f),I),n.e.prev=a&&a.e,n.e.next=r&&r.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),r!==null&&(r.prev=n,r.e.prev=n.e),n}finally{}}function Z(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,i=e?e.e.nodes_start:a,l=t.e.nodes_start;l!==r;){var o=be(l);i.before(l),l=o}}function T(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function D(t,e,a,r){var i=t.__attributes??(t.__attributes={});I&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ae]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Qe(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var J=new Map;function Qe(t){var e=J.get(t.nodeName);if(e)return e;J.set(t.nodeName,e=[]);for(var a,r=t,i=Element.prototype;i!==r;){a=Me(r);for(var l in a)a[l].set&&e.push(l);r=Te(r)}return e}const je=()=>performance.now(),A={tick:t=>requestAnimationFrame(t),now:()=>je(),tasks:new Set};function ne(){const t=A.now();A.tasks.forEach(e=>{e.c(t)||(A.tasks.delete(e),e.f())}),A.tasks.size!==0&&A.tick(ne)}function et(t){let e;return A.tasks.size===0&&A.tick(ne),{promise:new Promise(a=>{A.tasks.add(e={c:t,f:a})}),abort(){A.tasks.delete(e)}}}function S(t,e){t.dispatchEvent(new CustomEvent(e))}function tt(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Q(t){const e={},a=t.split(";");for(const r of a){const[i,l]=r.split(":");if(!i||l===void 0)break;const o=tt(i.trim());e[o]=l.trim()}return e}const at=t=>t;function rt(t,e,a,r){var i=(t&Fe)!==0,l="both",o,w=e.inert,c,g;function d(){var h=re,_=O;G(null),K(null);try{return o??(o=a()(e,(r==null?void 0:r())??{},{direction:l}))}finally{G(h),K(_)}}var s={is_global:i,in(){e.inert=w,S(e,"introstart"),c=P(e,d(),g,1,()=>{S(e,"introend"),c==null||c.abort(),c=o=void 0})},out(h){e.inert=!0,S(e,"outrostart"),g=P(e,d(),c,0,()=>{S(e,"outroend"),h==null||h()})},stop:()=>{c==null||c.abort(),g==null||g.abort()}},u=O;if((u.transitions??(u.transitions=[])).push(s),qe){var f=i;if(!f){for(var n=u.parent;n&&n.f&xe;)for(;(n=n.parent)&&!(n.f&Ie););f=!n||(n.f&Ne)!==0}f&&Re(()=>{Ce(()=>s.in())})}}function P(t,e,a,r,i){var l=r===1;if(Le(e)){var o,w=!1;return Se(()=>{if(!w){var _=e({direction:l?"in":"out"});o=P(t,_,a,r,i)}}),{abort:()=>{w=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(a==null||a.deactivate(),!(e!=null&&e.duration))return i(),{abort:M,deactivate:M,reset:M,t:()=>r};const{delay:c=0,css:g,tick:d,easing:s=at}=e;var u=[];if(l&&a===void 0&&(d&&d(0,1),g)){var f=Q(g(0,1));u.push(f,f)}var n=()=>1-r,h=t.animate(u,{duration:c});return h.onfinish=()=>{var _=(a==null?void 0:a.t())??1-r;a==null||a.abort();var p=r-_,v=e.duration*Math.abs(p),y=[];if(v>0){if(g)for(var E=Math.ceil(v/16.666666666666668),m=0;m<=E;m+=1){var k=_+p*s(m/E),x=g(k,1-k);y.push(Q(x))}n=()=>{var b=h.currentTime;return _+p*s(b/v)},d&&et(()=>{if(h.playState!=="running")return!1;var b=n();return d(b,1-b),!0})}h=t.animate(y,{duration:v,fill:"forwards"}),h.onfinish=()=>{n=()=>r,d==null||d(r,1-r),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=M)},deactivate:()=>{i=M},reset:()=>{r===0&&(d==null||d(1,0))},t:()=>n()}}function st(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function nt(t,{delay:e=0,speed:a,duration:r,easing:i=st}={}){let l=t.getTotalLength();const o=getComputedStyle(t);return o.strokeLinecap!=="butt"&&(l+=parseInt(o.strokeWidth)),r===void 0?a===void 0?r=800:r=l/a:typeof r=="function"&&(r=r(l)),{delay:e,duration:r,easing:i,css:(w,c)=>`
			stroke-dasharray: ${l};
			stroke-dashoffset: ${c*l};
		`}}var it=j('<meta name="description" content="An artwork utilizing regular polygons." class="svelte-dll60c"> <meta property="og:url" content="https://butterfly.andrewhan.dev/" class="svelte-dll60c"> <meta property="og:type" content="art" class="svelte-dll60c"> <meta property="og:title" content="Butterfly" class="svelte-dll60c"> <meta property="og:description" content="An artwork utilizing regular polygons." class="svelte-dll60c"> <meta property="og:image" content="https://raw.githubusercontent.com/andrewthehan/butterfly/master/static/butterfly-light.png" class="svelte-dll60c">',1),lt=le('<polygon stroke="white" stroke-width="1" fill="none" shape-rendering="crispEdges" class="svelte-dll60c"></polygon>'),ot=j('<section class="svelte-dll60c"><svg xmlns="http://www.w3.org/2000/svg" class="svelte-dll60c"><rect width="100%" height="100%" fill="black" class="svelte-dll60c"></rect><!></svg> <a class="label svelte-dll60c" href="https://github.com/andrewthehan/butterfly" target="_blank" rel="noopener noreferrer"><h2 class="svelte-dll60c">Andrew Han</h2> <b class="svelte-dll60c">Butterfly, 2015</b> <br class="svelte-dll60c"> <br class="svelte-dll60c"> <b class="svelte-dll60c"><i class="svelte-dll60c">An artwork utilizing regular polygons</i></b></a></section>');function ht(t,e){Oe(e,!0);const a=(_,p=M,v=M,y=M)=>{var E=lt();const m=z(()=>2*Math.PI/y()),k=z(()=>Array.from({length:y()},(b,N)=>{const B=p().x+Math.round(v()*Math.sin(N*R(m))),H=p().y+Math.round(v()*Math.cos(N*R(m)));return`${B},${H}`}).join(" ")),x=z(()=>y()-w);Ye(()=>D(E,"points",R(k))),rt(7,E,()=>nt,()=>({duration:1e3/(R(x)+1),delay:1e3*Math.log(R(x)+1)})),L(_,E)},r=600,i=600,l={x:r/2,y:i/2},o=10,w=3,c=1e3,g=100,d=Array.from({length:c},(_,p)=>Math.sqrt(o**2+2*g*p));let s=Pe(!1);Ke(()=>{He(s,!0)});var u=ot();We(_=>{var p=it();$e.title="Butterfly",U(10),L(_,p)});var f=V(u);D(f,"height",i),D(f,"width",r);var n=ze(V(f));{var h=_=>{var p=ie(),v=De(p);Xe(v,17,()=>Array(c),Ue,(y,E,m)=>{a(y,()=>l,()=>d[m],()=>m+w)}),L(_,p)};Ge(n,_=>{R(s)&&_(h)})}X(f),U(2),X(u),L(t,u),Be()}export{ht as component};

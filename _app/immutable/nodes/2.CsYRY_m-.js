import{a as ce,e as qe,c as pe,b as C,t as z,n as we}from"../chunks/disclose-version.DHXW51yt.js";import{i as B}from"../chunks/legacy.BBKkICQp.js";import{G as be,u as E,h as X,V as xe,m as Se,a6 as Oe,a7 as de,d as W,c as F,e as R,au as q,a8 as ke,q as re,a9 as ze,v as fe,av as Be,aw as Ge,l as Pe,ax as Ue,J as Ee,f as Ye,R as Fe,aa as Je,$ as ue,ay as Qe,az as Xe,aA as We,a as Me,j as Ze,b as je,g as $e,aB as et,a5 as tt,aC as nt,t as G,K as P,w as U,L as O,O as Z,aD as L,aE as rt,C as x,aF as at,D as K,a1 as ot,aG as st,aH as it,aI as lt,M as ct,N as dt,n as J,al as me}from"../chunks/runtime.B0XyMA56.js";import{c as Te,e as ft}from"../chunks/svelte-head.p8Zj-4eE.js";import{p as w,i as ae,s as Ae,b as j}from"../chunks/props.DH-3A73Y.js";import{g as oe,d as Ce,w as M}from"../chunks/index.BZYpMbRy.js";import{o as ut}from"../chunks/index-client.BRsgX9-o.js";function mt(n,e){return e}function ht(n,e,t,r){for(var i=[],l=e.length,o=0;o<l;o++)Ge(e[o].e,i,!0);var c=l>0&&i.length===0&&t!==null;if(c){var a=t.parentNode;Pe(a),a.append(t),r.clear(),A(n,e[0].prev,e[l-1].next)}Ue(i,()=>{for(var d=0;d<l;d++){var f=e[d];c||(r.delete(f.k),A(n,f.prev,f.next)),Ee(f.e,!c)}})}function gt(n,e,t,r,i,l=null){var o=n,c={flags:e,items:new Map,first:null};E&&X();var a=null,d=!1;be(()=>{var f=t(),s=xe(f)?f:f==null?[]:Se(f),g=s.length;if(d&&g===0)return;d=g===0;let m=!1;if(E){var h=o.data===Oe;h!==(g===0)&&(o=de(),W(o),F(!1),m=!0)}if(E){for(var y=null,b,p=0;p<g;p++){if(R.nodeType===8&&R.data===Ye){o=R,m=!0,F(!1);break}var u=s[p],_=r(u,p);b=Ie(R,c,y,null,u,_,p,i,e),c.items.set(_,b),y=b}g>0&&W(de())}if(!E){var S=Fe;vt(s,c,o,i,e,(S.f&q)!==0,r)}l!==null&&(g===0?a?ke(a):a=re(()=>l(o)):a!==null&&ze(a,()=>{a=null})),m&&F(!0),t()}),E&&(o=R)}function vt(n,e,t,r,i,l,o,c){var a=n.length,d=e.items,f=e.first,s=f,g,m=null,h=[],y=[],b,p,u,_;for(_=0;_<a;_+=1){if(b=n[_],p=o(b,_),u=d.get(p),u===void 0){var S=s?s.e.nodes_start:t;m=Ie(S,e,m,m===null?e.first:m.next,b,p,_,r,i),d.set(p,m),h=[],y=[],s=m.next;continue}if(_t(u,b,_),u.e.f&q&&ke(u.e),u!==s){if(g!==void 0&&g.has(u)){if(h.length<y.length){var k=y[0],v;m=k.prev;var N=h[0],T=h[h.length-1];for(v=0;v<h.length;v+=1)he(h[v],k,t);for(v=0;v<y.length;v+=1)g.delete(y[v]);A(e,N.prev,T.next),A(e,m,N),A(e,T,k),s=k,m=T,_-=1,h=[],y=[]}else g.delete(u),he(u,s,t),A(e,u.prev,u.next),A(e,u,m===null?e.first:m.next),A(e,m,u),m=u;continue}for(h=[],y=[];s!==null&&s.k!==p;)(l||!(s.e.f&q))&&(g??(g=new Set)).add(s),y.push(s),s=s.next;if(s===null)continue;u=s}h.push(u),m=u,s=u.next}if(s!==null||g!==void 0){for(var D=g===void 0?[]:Se(g);s!==null;)(l||!(s.e.f&q))&&D.push(s),s=s.next;var H=D.length;if(H>0){var Y=null;ht(e,D,Y,d)}}fe.first=e.first&&e.first.e,fe.last=m&&m.e}function _t(n,e,t,r){Be(n.v,e),n.i=t}function Ie(n,e,t,r,i,l,o,c,a,d){var f=(a&Xe)!==0,s=(a&We)===0,g=f?s?Je(i):ue(i):i,m=a&Qe?ue(o):o,h={i:m,v:g,k:l,a:null,e:null,prev:t,next:r};try{return h.e=re(()=>c(n,g,m),E),h.e.prev=t&&t.e,h.e.next=r&&r.e,t===null?e.first=h:(t.next=h,t.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function he(n,e,t){for(var r=n.next?n.next.e.nodes_start:t,i=e?e.e.nodes_start:t,l=n.e.nodes_start;l!==r;){var o=Me(l);i.before(l),l=o}}function A(n,e,t){e===null?n.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function yt(n,e,t,r,i){var l=n,o="",c;be(()=>{if(o===(o=e()??"")){E&&X();return}c!==void 0&&(Ee(c),c=void 0),o!==""&&(c=re(()=>{if(E){R.data;for(var a=X(),d=a;a!==null&&(a.nodeType!==8||a.data!=="");)d=a,a=Me(a);if(a===null)throw Ze(),je;ce(R,d),l=W(a);return}var f=o+"",s=qe(f);ce($e(s),s.lastChild),l.before(s)}))})}function V(n,e,t,r){var i=n.__attributes??(n.__attributes={});E&&(i[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||i[e]!==(i[e]=t)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[et]=t),t==null?n.removeAttribute(e):typeof t!="string"&&pt(n).includes(e)?n[e]=t:n.setAttribute(e,t))}var ge=new Map;function pt(n){var e=ge.get(n.nodeName);if(e)return e;ge.set(n.nodeName,e=[]);for(var t,r=n,i=Element.prototype;i!==r;){t=nt(r);for(var l in t)t[l].set&&e.push(l);r=tt(r)}return e}let ve,_e;function Ne(n){if(typeof document>"u")return;clearTimeout(ve),clearTimeout(_e);const e=document.createElement("style"),t=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(t);const r=()=>document.head.appendChild(e),i=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){r(),n(),window.getComputedStyle(e).opacity,i();return}if(typeof window.requestAnimationFrame<"u"){r(),n(),window.requestAnimationFrame(i);return}r(),ve=window.setTimeout(()=>{n(),_e=window.setTimeout(i,120)},120)}function ye(n){return n.filter(e=>e.length>0)}const Le={getItem:n=>null,setItem:(n,e)=>{}},I=typeof document<"u",wt=["dark","light","system"],$=M("mode-watcher-mode"),ee=M("mode-watcher-theme"),se=St(),te=Et(),Ke=M(void 0),Re=kt(),ie=M(!0),Ve=M([]),De=M([]),le=Mt(),bt=Tt();function St(){const n="system",e=I?localStorage:Le,t=e.getItem(i());let r=ne(t)?t:n;function i(){return oe($)}const{subscribe:l,set:o}=M(r,()=>{if(!I)return;const a=d=>{if(d.key!==i())return;const f=d.newValue;ne(f)?o(r=f):o(r=n)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function c(a){o(r=a),e.setItem(i(),r)}return{subscribe:l,set:c}}function kt(){const n=I?localStorage:Le,e=n.getItem(r());let t=e??"";function r(){return oe(ee)}const{subscribe:i,set:l}=M(t,()=>{if(!I)return;const c=a=>{if(a.key!==r())return;const d=a.newValue;l(d===null?t="":t=d)};return addEventListener("storage",c),()=>removeEventListener("storage",c)});function o(c){l(t=c),n.setItem(r(),t)}return{subscribe:i,set:o}}function Et(){let e=!0;const{subscribe:t,set:r}=M(void 0,()=>{if(!I)return;const o=a=>{e&&r(a.matches?"light":"dark")},c=window.matchMedia("(prefers-color-scheme: light)");return c.addEventListener("change",o),()=>c.removeEventListener("change",o)});function i(){if(!I)return;const o=window.matchMedia("(prefers-color-scheme: light)");r(o.matches?"light":"dark")}function l(o){e=o}return{subscribe:t,query:i,tracking:l}}function Mt(){const{subscribe:n}=Ce([se,te,Ke,ie,Ve,De],([e,t,r,i,l,o])=>{if(!I)return;const c=e==="system"?t:e,a=ye(l),d=ye(o);function f(){const s=document.documentElement,g=document.querySelector('meta[name="theme-color"]');c==="light"?(a.length&&s.classList.remove(...a),d.length&&s.classList.add(...d),s.style.colorScheme="light",g&&r&&g.setAttribute("content",r.light)):(d.length&&s.classList.remove(...d),a.length&&s.classList.add(...a),s.style.colorScheme="dark",g&&r&&g.setAttribute("content",r.dark))}return i?Ne(f):f(),c});return{subscribe:n}}function Tt(){const{subscribe:n}=Ce([Re,ie],([e,t])=>{if(!I)return;function r(){document.documentElement.setAttribute("data-theme",e)}return t?Ne(r):r(),e});return{subscribe:n}}function ne(n){return typeof n!="string"?!1:wt.includes(n)}function Q(){se.set(oe(le)==="dark"?"light":"dark")}function At(n){se.set(n)}function Ct(n){Re.set(n)}function It({defaultMode:n="system",themeColors:e,darkClassNames:t=["dark"],lightClassNames:r=[],defaultTheme:i="",modeStorageKey:l="mode-watcher-mode",themeStorageKey:o="mode-watcher-theme"}){const c=document.documentElement,a=localStorage.getItem(l)||n,d=localStorage.getItem(o)||i,f=a==="light"||a==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(f?(t.length&&c.classList.remove(...t),r.length&&c.classList.add(...r)):(r.length&&c.classList.remove(...r),t.length&&c.classList.add(...t)),c.style.colorScheme=f?"light":"dark",e){const s=document.querySelector('meta[name="theme-color"]');s&&s.setAttribute("content",a==="light"?e.light:e.dark)}d&&(c.setAttribute("data-theme",d),localStorage.setItem(o,d)),localStorage.setItem(l,a)}var Nt=z('<meta name="theme-color">');function Lt(n,e){G(e,!1);let t=w(e,"themeColors",24,()=>{});B();var r=pe(),i=P(r);{var l=o=>{var c=Nt();O(()=>V(c,"content",t().dark)),C(o,c)};ae(i,o=>{t()&&o(l)})}C(n,r),U()}var Kt=z('<meta name="theme-color">'),Rt=z("<!> <!>",1);function Vt(n,e){G(e,!1);let t=w(e,"trueNonce",8,""),r=w(e,"initConfig",8),i=w(e,"themeColors",24,()=>{});B(),Te(l=>{var o=Rt(),c=P(o);{var a=f=>{var s=Kt();O(()=>V(s,"content",i().dark)),C(f,s)};ae(c,f=>{i()&&f(a)})}var d=Z(c,2);yt(d,()=>`<script${t()?` nonce=${t()}`:""}>(`+It.toString()+")("+JSON.stringify(r())+");<\/script>",!1,!1),C(l,o)}),U()}function Dt(n,e){G(e,!1);const t=Ae(),r=()=>j($,"$modeStorageKeyStore",t),i=()=>j(ee,"$themeStorageKeyStore",t),l=at();let o=w(e,"track",8,!0),c=w(e,"defaultMode",8,"system"),a=w(e,"themeColors",24,()=>{}),d=w(e,"disableTransitions",8,!0),f=w(e,"darkClassNames",24,()=>["dark"]),s=w(e,"lightClassNames",24,()=>[]),g=w(e,"defaultTheme",8,""),m=w(e,"nonce",8,""),h=w(e,"themeStorageKey",8,"mode-watcher-theme"),y=w(e,"modeStorageKey",8,"mode-watcher-mode"),b=w(e,"disableHeadScriptInjection",8,!1);ut(()=>{const v=le.subscribe(()=>{}),N=bt.subscribe(()=>{});te.tracking(o()),te.query();const T=localStorage.getItem(r());At(ne(T)?T:c());const D=localStorage.getItem(i());return Ct(D||g()),()=>{v(),N()}});const p={defaultMode:c(),themeColors:a(),darkClassNames:f(),lightClassNames:s(),defaultTheme:g(),modeStorageKey:y(),themeStorageKey:h()};L(()=>K(d()),()=>{ie.set(d())}),L(()=>K(a()),()=>{Ke.set(a())}),L(()=>K(f()),()=>{Ve.set(f())}),L(()=>K(s()),()=>{De.set(s())}),L(()=>K(y()),()=>{$.set(y())}),L(()=>K(h()),()=>{ee.set(h())}),L(()=>K(m()),()=>{ot(l,typeof window>"u"?m():"")}),rt(),B();var u=pe(),_=P(u);{var S=v=>{Lt(v,{get themeColors(){return a()}})},k=v=>{Vt(v,{get trueNonce(){return x(l)},initConfig:p,get themeColors(){return a()}})};ae(_,v=>{b()?v(S):v(k,!1)})}C(n,u),U()}var Ht=z('<meta name="description" content="An artwork utilizing regular polygons."> <meta property="og:url" content="https://butterfly.andrewhan.dev/"> <meta property="og:type" content="art"> <meta property="og:title" content="Butterfly"> <meta property="og:description" content="An artwork utilizing regular polygons."> <meta property="og:image" content="https://raw.githubusercontent.com/andrewthehan/butterfly/master/static/butterfly-light.png">',1),qt=we('<polygon stroke-width="1" fill="none" shape-rendering="crispEdges"></polygon>'),xt=we('<!><svg xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%"></rect><!></svg>',1);function Ft(n,e){G(e,!1);const t=Ae(),r=()=>j(le,"$mode",t),i=(u,_=J,S=J,k=J)=>{var v=qt();const N=me(()=>2*Math.PI/k()),T=me(()=>Array.from({length:k()},(D,H)=>{const Y=_().x+Math.round(S()*Math.sin(H*x(N))),He=_().y+Math.round(S()*Math.cos(H*x(N)));return`${Y},${He}`}).join(" "));O(()=>{V(v,"points",x(T)),V(v,"stroke",r()==="light"?"white":"black")}),C(u,v)},l=600,o=600,c={x:l/2,y:o/2},a=10,d=1e3,f=100;function*s(u,_,S){let k=u;for(let v=0;v<S;v++)yield k,k+=_/k}const g=Array.from(s(a,f,d));B();var m=xt();Te(u=>{var _=Ht();st.title="Butterfly",it(10),C(u,_)}),ft("click",lt,function(...u){Q==null||Q.apply(this,u)});var h=P(m);Dt(h,{themeColors:{dark:"black",light:"white"}});var y=Z(h);V(y,"height",o),V(y,"width",l);var b=ct(y),p=Z(b);gt(p,1,()=>Array(d),mt,(u,_,S)=>{i(u,()=>c,()=>g[S],()=>S+3)}),dt(y),O(()=>V(b,"fill",r()==="light"?"black":"white")),C(n,m),U()}export{Ft as component};
